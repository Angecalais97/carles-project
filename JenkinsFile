pipeline{
  agent any

  tools {
    maven 'maven'
  }

  stages{
    stage ('scm'){
      steps{
        git branch: 'main', url: 'https://github.com/Angecalais97/carles-project'
      }
    }

    stage('build and test'){
      steps{
        sh ''' 
        sudo chmod -R 755 /home/automation/.m2/repository
        sudo chown -R automation:automation /home/automation/.m2/repository
        mvn clean package
        '''
      }
    }
  }
}
